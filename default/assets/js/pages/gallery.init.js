/**
 * Theme: Tailfox - Tailwind Admin Dashboard Template
 * Author: Mannatthemes
 * Gallery Js
 */

var Shuffle=window.Shuffle;class Demo{constructor(e){this.element=e,this.shuffle=new Shuffle(e,{itemSelector:".picture-item",sizer:e.querySelector(".my-sizer-element")}),this.addShuffleEventListeners(),this._activeFilters=[],this.addFilterButtons(),this.addSorting(),this.addSearchFilter()}addShuffleEventListeners(){this.shuffle.on(Shuffle.EventType.LAYOUT,e=>{console.log("layout. data:",e)}),this.shuffle.on(Shuffle.EventType.REMOVED,e=>{console.log("removed. data:",e)})}addFilterButtons(){let e=document.querySelector(".filter-options");if(!e)return;let t=Array.from(e.children),r=this._handleFilterClick.bind(this);t.forEach(e=>{e.addEventListener("click",r,!1)})}_handleFilterClick(e){let t=e.currentTarget,r=t.classList.contains("active"),i=t.getAttribute("data-group");this._removeActiveClassFromChildren(t.parentNode);let l;r?(t.classList.remove("active"),l=Shuffle.ALL_ITEMS):(t.classList.add("active"),l=i),this.shuffle.filter(l)}_removeActiveClassFromChildren(e){let{children:t}=e;for(let r=t.length-1;r>=0;r--)t[r].classList.remove("active")}addSorting(){let e=document.querySelector(".sort-options");e&&e.addEventListener("change",this._handleSortChange.bind(this))}_handleSortChange(e){let t=Array.from(e.currentTarget.children);t.forEach(t=>{t.querySelector("input").value===e.target.value?t.classList.add("active"):t.classList.remove("active")});let{value:r}=e.target,i={};"date-created"===r?i={reverse:!0,by:function e(t){return t.getAttribute("data-created")}}:"title"===r&&(i={by:function e(t){return t.getAttribute("data-title").toLowerCase()}}),this.shuffle.sort(i)}addSearchFilter(){let e=document.querySelector(".js-shuffle-search");e&&e.addEventListener("keyup",this._handleSearchKeyup.bind(this))}_handleSearchKeyup(e){let t=e.target.value.toLowerCase();this.shuffle.filter((e,r)=>{if(r.group!==Shuffle.ALL_ITEMS){let i=JSON.parse(e.getAttribute("data-groups")),l=-1!==i.indexOf(r.group);if(!l)return!1}let a=e.querySelector(".picture-item__title"),s=a.textContent.toLowerCase().trim();return -1!==s.indexOf(t)})}}document.addEventListener("DOMContentLoaded",()=>{window.demo=new Demo(document.getElementById("grid"))});const tobii=new Tobii;