/**
 * Theme: T-Wind - Tailwind Admin Dashboard Template
 * Author: Mannatthemes
 * File: Crop Js
 */
window.onload=function(){"use strict";var e,t=window.Cropper,a=window.URL||window.webkitURL,o=document.querySelector(".img-container").getElementsByTagName("img").item(0);document.getElementById("download");var n=document.getElementById("actions"),r=document.getElementById("dataX"),i=document.getElementById("dataY"),d=document.getElementById("dataHeight"),c=document.getElementById("dataWidth"),l=document.getElementById("dataRotate"),s=document.getElementById("dataScaleX"),g=document.getElementById("dataScaleY"),p={aspectRatio:16/9,preview:".img-preview",ready:function(e){console.log(e.type)},cropstart:function(e){console.log(e.type,e.detail.action)},cropmove:function(e){console.log(e.type,e.detail.action)},cropend:function(e){console.log(e.type,e.detail.action)},crop:function(e){var t=e.detail;console.log(e.type),r.value=Math.round(t.x),i.value=Math.round(t.y),d.value=Math.round(t.height),c.value=Math.round(t.width),l.value=void 0!==t.rotate?t.rotate:"",s.value=void 0!==t.scaleX?t.scaleX:"",g.value=void 0!==t.scaleY?t.scaleY:""},zoom:function(e){console.log(e.type,e.detail.ratio)}},u=new t(o,p),v=o.src;document.querySelector(".docs-toggles").addEventListener("change",function(e){var a,n,r,i,d=e||window.event,c=d.target||d.srcElement;u&&("label"===c.tagName.toLowerCase()&&(c=c.querySelector("input")),r="checkbox"===c.type,i="radio"===c.type,(r||i)&&(r?(p[c.name]=c.checked,a=u.getCropBoxData(),n=u.getCanvasData(),p.ready=function(){console.log("ready"),u.setCropBoxData(a).setCanvasData(n)}):(p[c.name]=c.value,p.ready=function(){console.log("ready")}),u.destroy(),u=new t(o,p)))}),n.querySelector(".docs-buttons").onclick=function(t){var n,r,i,d,c=t||window.event,l=c.target||c.srcElement;if(u){for(;l!==this&&!l.getAttribute("data-method");)l=l.parentNode;if(!(l===this||l.disabled||l.className.indexOf("disabled")>-1)&&(d={method:l.getAttribute("data-method"),target:l.getAttribute("data-target"),option:l.getAttribute("data-option")||void 0,secondOption:l.getAttribute("data-second-option")||void 0},n=u.cropped,d.method)){if(void 0!==d.target&&(i=document.querySelector(d.target),!l.hasAttribute("data-option")&&d.target&&i))try{d.option=JSON.parse(i.value)}catch(s){console.log(s.message)}switch(d.method){case"rotate":n&&p.viewMode>0&&u.clear();break;case"getCroppedCanvas":try{d.option=JSON.parse(d.option)}catch(g){console.log(g.message)}d.option||(d.option={}),d.option.fillColor="#fff"}switch(r=u[d.method](d.option,d.secondOption),d.method){case"rotate":n&&p.viewMode>0&&u.crop();break;case"scaleX":case"scaleY":l.setAttribute("data-option",-d.option);break;case"destroy":u=null,e&&(a.revokeObjectURL(e),e="",o.src=v)}if("object"==typeof r&&r!==u&&i)try{i.value=JSON.stringify(r)}catch(y){console.log(y.message)}}}},document.body.onkeydown=function(e){var t=e||window.event;if(t.target===this&&u&&!(this.scrollTop>300))switch(t.keyCode){case 37:t.preventDefault(),u.move(-1,0);break;case 38:t.preventDefault(),u.move(0,-1);break;case 39:t.preventDefault(),u.move(1,0);break;case 40:t.preventDefault(),u.move(0,1)}}};